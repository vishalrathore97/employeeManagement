(this["webpackJsonpemployee-management"]=this["webpackJsonpemployee-management"]||[]).push([[0],{143:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},153:function(e,t,a){},252:function(e,t,a){},254:function(e,t,a){},255:function(e,t,a){},256:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a.n(s),n=a(31),c=a.n(n),i=a(2),o=a(3),l=a(4),d=a(6),u=a(7),j=a(32),b=a(10),p=a(18),m=a(22),h=a(28),O=a.n(h),_=a(65),f=a.n(_),v=a(40),x=a.n(v),g="FETCH_USERS_REQUEST",y="FETCH_USERS_SUCCESS",N="FETCH_USERS_FAILURE",S="DELETE_USER_FAILURE",E="DELETE_USER_REQUEST",U="SAVE_USER_REQUEST",F="SAVE_USER_SUCCESS",D="SAVE_USER_FAILURE",R="EDIT_USER_REQUEST",C="EDIT_USER_SUCCESS",T="EDIT_USER_FAILURE",k="LOAD_SAVE_TRUE",L="LOAD_SAVE_FALSE",A="LOAD_EDIT_TRUE",I="LOAD_EDIT_FALSE",P=function(){return function(e){e({type:g}),x.a.get("https://jsonplaceholder.typicode.com/users").then((function(t){return e((a=t.data,{type:y,payload:a}));var a})).catch((function(t){var a;m.b.error(t.message),e((a=t.message,{type:N,payload:a}))}))}},M=function(e){return function(t){t(function(e){return{type:E,payload:e}}(e)),x.a.delete("https://jsonplaceholder.typicode.com/users/".concat(e.id)).then((function(e){return m.b.success("Deleted Successfully")})).catch((function(a){m.b.error(a.message),t(function(e,t){return{type:S,error:e,user:t}}(a.message,e))}))}},q=function(e){return function(t){t({type:U}),x.a.post("https://jsonplaceholder.typicode.com/users",e).then((function(e){var a;m.b.success("Saved Successfully"),t((a=e.data,{type:F,payload:a}))})).catch((function(e){var a;m.b.error(e.message),t((a=e.message,{type:D,payload:a}))}))}},z=function(e){return function(t){t({type:R}),x.a.patch("https://jsonplaceholder.typicode.com/users/".concat(e.id),e).then((function(e){var a;m.b.success("Updated Successfully"),t((a=e.data,{type:C,payload:a}))})).catch((function(e){var a;m.b.error(e.message),t((a=e.message,{type:T,payload:a}))}))}},w=(a(143),a(1));f.a.setAppElement("#root");var G=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).toggleModal=function(){s.setState((function(e){return{isModalOpen:!e.isModalOpen}}))},s.handleDelete=function(){s.props.deleteUser(s.props.user),s.setState((function(e){return{isModalOpen:!e.isModalOpen}}))},s.state={isModalOpen:!1},s}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.loadEditTrue;return Object(w.jsxs)("div",{className:"userInfo",children:[Object(w.jsx)("span",{className:"userInfo__name",children:t.name}),Object(w.jsxs)("div",{className:"userInfo__btnContainer",children:[Object(w.jsx)(j.b,{to:"/read/".concat(t.id),children:Object(w.jsx)("button",{className:"userInfo__btn userInfo__btn--blue ",children:"View"})}),Object(w.jsx)(j.b,{onClick:a,to:"/form/".concat(t.id),children:Object(w.jsx)("button",{className:"userInfo__btn userInfo__btn--yellow",children:"Edit"})}),Object(w.jsx)("button",{onClick:this.toggleModal,className:"userInfo__btn userInfo__btn--red",children:"Delete"}),Object(w.jsxs)(f.a,{isOpen:this.state.isModalOpen,onRequestClose:this.toggleModal,closeTimeoutMS:1e3,className:"modal",overlayClassName:"overlay",children:[Object(w.jsx)("h1",{className:"modal__title",children:"WARNING!"}),Object(w.jsx)("p",{className:"modal__body",children:"Are you sure you want to delete this user?"}),Object(w.jsxs)("div",{className:"modal__btn",children:[Object(w.jsx)("button",{onClick:this.handleDelete,className:"modal__btn--danger",children:"Delete"}),Object(w.jsx)("button",{onClick:this.toggleModal,className:"modal__btn--primary",children:"Close"})]})]})]})]})}}]),a}(s.Component),V=Object(p.b)((function(e){return{error:e.error}}),(function(e){return{deleteUser:function(t){return e(M(t))},loadEditTrue:function(){return e({type:A})}}}))(G),B=(a(146),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).goToNextPage=function(){s.setState((function(e){return{currentPage:e.currentPage+1}}))},s.goToPreviousPage=function(){s.setState((function(e){return{currentPage:e.currentPage-1}}))},s.changePage=function(e){var t=Number(e.target.textContent);s.setState({currentPage:t})},s.getPaginatedData=function(){var e=s.state.currentPage*s.props.pageDataLimit-s.props.pageDataLimit,t=e+s.props.pageDataLimit;return s.props.pageData.slice(e,t)},s.getPaginationGroup=function(){var e,t=Math.floor((s.state.currentPage-1)/s.props.pageLimit)*s.props.pageLimit;return e=t+s.props.pageLimit>s.state.pages?s.state.pages-t:s.props.pageLimit,new Array(e).fill().map((function(e,a){return t+a+1}))},s.state={pages:Math.ceil(e.pageData.length/e.pageDataLimit),currentPage:1},s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.pageData,s=t.pageDataLimit;e.pageData!==a&&this.setState({pages:Math.ceil(a.length/s),currentPage:1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.currentPage,s=t.pages,r=this.props.pageData;return Object(w.jsx)("div",{className:"pagination",children:"string"==typeof r?r:Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{className:"pagination__data",children:this.getPaginatedData().map((function(e){return Object(w.jsx)(V,{user:e},e.id)}))}),Object(w.jsxs)("div",{className:"pagination__buttons",children:[Object(w.jsx)("button",{onClick:this.goToPreviousPage,className:"pagination__btnList ".concat(1===a?"disabled":""),children:"<"}),this.getPaginationGroup().map((function(t){return Object(w.jsx)("button",{onClick:e.changePage,className:"pagination__btnList ".concat(a===t?"active":null),children:t},t)})),Object(w.jsx)("button",{onClick:this.goToNextPage,className:"pagination__btnList ".concat(a===s?"disabled":""),children:">"})]})]})})}}]),a}(s.Component)),Q=(a(147),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).debounceSearch=function(){var e;return function(t){e&&clearTimeout(e),e=setTimeout((function(){var e=t.target.value;if(e){var a=new RegExp("^"+e,"i"),r=s.props.users.filter((function(e){return a.test(e.name)}));return r.length?void s.setState({filteredData:r}):void s.setState({filteredData:"No Results Found"})}s.setState({filteredData:s.props.users})}),900)}},s.inputRef=r.a.createRef(),s.state={filteredData:[]},s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.users!==e.users&&(this.inputRef.current.value="",this.setState({filteredData:[]}))}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.users,s=this.state.filteredData,r=this.debounceSearch();return console.log(s),Object(w.jsx)(w.Fragment,{children:t?Object(w.jsx)("div",{className:"home__loader",children:Object(w.jsx)(O.a,{size:100})}):Object(w.jsxs)("div",{className:"home",children:[Object(w.jsx)(j.b,{onClick:this.props.loadSaveTrue,to:"/form/new",className:"home__addBtn",children:"Add an Employee"}),Object(w.jsx)("input",{className:"home__search",type:"text",ref:this.inputRef,onChange:r}),a.length?Object(w.jsx)(B,{pageDataLimit:4,pageData:s.length?s:a,pageLimit:5}):Object(w.jsx)("span",{className:"home--noInfo",children:"No Employee Information"})]})})}}]),a}(s.Component)),H=Object(p.b)((function(e){return{users:e.users,loading:e.loading}}),(function(e){return{loadSaveTrue:function(){return e({type:k})}}}))(Q),W=(a(153),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).getAddress=function(){var e=s.props.user.address,t=e.street,a=e.suite,r=e.city,n=e.zipcode;return"".concat(a,", ").concat(t,", ").concat(r,", zipcode-").concat(n," ")},s.state={loading:!0},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.timer=setTimeout((function(){e.setState({loading:!1})}),900)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var e=this;if(!Object.keys(this.props.user).length)return this.props.history.replace("/home"),null;var t=this.state.loading,a=this.props.user,s=a.name,r=a.email,n=a.username,c=a.phone;return Object(w.jsx)("div",{className:"readUser",children:t?Object(w.jsx)(O.a,{size:100}):Object(w.jsxs)("div",{className:"readUser__card",children:[Object(w.jsx)("button",{onClick:function(){return e.props.history.push("/home")},className:"readUser_back",children:"< Back"}),Object(w.jsxs)("div",{className:"readUser__info",children:[Object(w.jsx)("div",{className:"readUser__info__col1",children:"NAME : "}),Object(w.jsx)("div",{className:"readUser__info__col2",children:s})]}),Object(w.jsxs)("div",{className:"readUser__info",children:[Object(w.jsx)("div",{className:"readUser__info__col1",children:"EMAIL : "}),Object(w.jsx)("div",{className:"readUser__info__col2",children:r})]}),Object(w.jsxs)("div",{className:"readUser__info",children:[Object(w.jsx)("div",{className:"readUser__info__col1",children:"USERNAME : "}),Object(w.jsx)("div",{className:"readUser__info__col2",children:n})]}),Object(w.jsxs)("div",{className:"readUser__info",children:[Object(w.jsx)("div",{className:"readUser__info__col1",children:"ADDRESS : "}),Object(w.jsx)("div",{className:"readUser__info__col2",children:this.getAddress()})]}),Object(w.jsxs)("div",{className:"readUser__info",children:[Object(w.jsx)("div",{className:"readUser__info__col1",children:"CONTACT NO : "}),Object(w.jsx)("div",{className:"readUser__info__col2",children:c})]})]})})}}]),a}(s.Component)),J=Object(p.b)((function(e,t){var a=t.match.params;return{user:Object(i.a)({},e.users.find((function(e){return e.id===Number(a.id)})))}}))(W),$=a(12),Z=a(21);a(252);function K(e){return Object(w.jsx)("div",{className:"userForm__error",children:e.children})}var X=Z.a({name:Z.b().required("Required"),email:Z.b().required("Required").email("Invalid email format"),username:Z.b().required("Required"),address:Z.a({street:Z.b().required("Required"),suite:Z.b().required("Required"),city:Z.b().required("Required"),zipcode:Z.b().trim().matches(/^\d{5}$|^\d{5}-\d{4}$/,"Invalid format").required("Required")}),phone:Z.b().required("Required")}),Y=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).handleSubmit=function(e){if(Object.keys(s.props.user).length){var t=Object(i.a)(Object(i.a)({},s.props.user),e);s.props.editUser(t)}else s.props.saveUser(e)},s.initialValues={name:"",email:"",username:"",address:{street:"",suite:"",city:"",zipcode:""},phone:""},Object.keys(e.user).length&&(s.initialValues={name:e.user.name,email:e.user.email,username:e.user.username,address:{street:e.user.address.street,suite:e.user.address.suite,city:e.user.address.city,zipcode:e.user.address.zipcode},phone:e.user.phone}),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadSaveFalse,a=e.loadEditFalse,s=e.user,r=e.match,n=e.history;setTimeout((function(){a(),t()}),800),"new"!==r.params.id&&(Object.keys(s).length||n.replace("/home"))}},{key:"componentDidUpdate",value:function(e){e.users!==this.props.users&&this.props.history.replace("/home")}},{key:"render",value:function(){return Object(w.jsx)("div",{className:"userForm",children:this.props.loadSave||this.props.loadEdit?Object(w.jsx)(O.a,{className:"userForm__loader",size:100}):Object(w.jsx)($.d,{initialValues:this.initialValues,onSubmit:this.handleSubmit,validationSchema:X,children:Object(w.jsxs)("div",{className:"userForm__container",children:[Object(w.jsx)("h1",{children:"USER FORM"}),Object(w.jsxs)($.c,{children:[Object(w.jsxs)("div",{className:"userForm__inputGroup",children:[Object(w.jsx)("label",{htmlFor:"name",children:"Name"}),Object(w.jsxs)("div",{className:"userForm__col",children:[Object(w.jsx)($.b,{id:"name",type:"text",name:"name"}),Object(w.jsx)($.a,{name:"name",component:K})]})]}),Object(w.jsxs)("div",{className:"userForm__inputGroup",children:[Object(w.jsx)("label",{htmlFor:"email",children:"Email"}),Object(w.jsxs)("div",{className:"userForm__col",children:[Object(w.jsx)($.b,{id:"email",type:"email",name:"email"}),Object(w.jsx)($.a,{name:"email",component:K})]})]}),Object(w.jsxs)("div",{className:"userForm__inputGroup",children:[Object(w.jsx)("label",{htmlFor:"username",children:"Username"}),Object(w.jsxs)("div",{className:"userForm__col",children:[Object(w.jsx)($.b,{id:"username",type:"text",name:"username"}),Object(w.jsx)($.a,{name:"username",component:K})]})]}),Object(w.jsxs)("div",{className:"userForm__inputGroup",children:[Object(w.jsx)("label",{htmlFor:"street",children:"Street"}),Object(w.jsxs)("div",{className:"userForm__col",children:[Object(w.jsx)($.b,{id:"street",type:"text",name:"address.street"}),Object(w.jsx)($.a,{name:"address.street",component:K})]})]}),Object(w.jsxs)("div",{className:"userForm__inputGroup",children:[Object(w.jsx)("label",{htmlFor:"city",children:"City"}),Object(w.jsxs)("div",{className:"userForm__col",children:[Object(w.jsx)($.b,{id:"city",type:"text",name:"address.city"}),Object(w.jsx)($.a,{name:"address.city",component:K})]})]}),Object(w.jsxs)("div",{className:"userForm__inputGroup",children:[Object(w.jsx)("label",{htmlFor:"suite",children:"Suite"}),Object(w.jsxs)("div",{className:"userForm__col",children:[Object(w.jsx)($.b,{id:"suite",type:"text",name:"address.suite"}),Object(w.jsx)($.a,{name:"address.suite",component:K})]})]}),Object(w.jsxs)("div",{className:"userForm__inputGroup",children:[Object(w.jsx)("label",{htmlFor:"zipcode",children:"Zipcode"}),Object(w.jsxs)("div",{className:"userForm__col",children:[Object(w.jsx)($.b,{id:"zipcode",type:"text",name:"address.zipcode"}),Object(w.jsx)($.a,{name:"address.zipcode",component:K})]})]}),Object(w.jsxs)("div",{className:"userForm__inputGroup",children:[Object(w.jsx)("label",{htmlFor:"phone",children:"Contact No."}),Object(w.jsxs)("div",{className:"userForm__col",children:[Object(w.jsx)($.b,{id:"phone",type:"text",name:"phone"}),Object(w.jsx)($.a,{name:"phone",component:K})]})]}),Object(w.jsx)("button",{className:"userForm__submitBtn",type:"submit",children:"Submit"})]})]})})})}}]),a}(s.Component),ee=Object(p.b)((function(e,t){var a=t.match.params;return{users:e.users,loadSave:e.loadSave,loadEdit:e.loadEdit,user:Object(i.a)({},e.users.find((function(e){return e.id===Number(a.id)})))}}),(function(e){return{loadEditFalse:function(){return e({type:I})},loadSaveFalse:function(){return e({type:L})},saveUser:function(t){return e(q(t))},editUser:function(t){return e(z(t))}}}))(Y),te=(a(253),a(254),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchUsers()}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.error;return Object(w.jsxs)("div",{className:"app",children:[Object(w.jsx)(m.a,{}),t?Object(w.jsx)("div",{className:"app__loader",children:Object(w.jsx)(O.a,{size:100})}):Object(w.jsx)(w.Fragment,{children:a?Object(w.jsx)("div",{className:"app__error",children:"404 NOT FOUND"}):Object(w.jsx)(j.a,{children:Object(w.jsxs)(b.d,{children:[Object(w.jsx)(b.b,{exact:!0,path:"/home",children:Object(w.jsx)(H,{})}),Object(w.jsx)(b.b,{path:"/read/:id",render:function(e){return Object(w.jsx)(J,Object(i.a)({},e))}}),Object(w.jsx)(b.b,{path:"/form/:id",render:function(e){return Object(w.jsx)(ee,Object(i.a)({},e))}}),Object(w.jsx)(b.a,{to:"/home"})]})})})]})}}]),a}(s.Component)),ae=Object(p.b)((function(e){return{error:e.error,loading:e.loading}}),(function(e){return{fetchUsers:function(){return e(P())}}}))(te),se=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,258)).then((function(t){var a=t.getCLS,s=t.getFID,r=t.getFCP,n=t.getLCP,c=t.getTTFB;a(e),s(e),r(e),n(e),c(e)}))},re=a(53),ne=a(107),ce=a(108),ie=a(9),oe={loading:!0,loadSave:!1,loadDelete:!1,loadEdit:!1,users:[],error:"",errorSave:"",errorDelete:"",errorEdit:""},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(i.a)(Object(i.a)({},e),{},{loading:!0});case y:return Object(i.a)(Object(i.a)({},e),{},{loading:!1,users:t.payload,error:""});case N:return Object(i.a)(Object(i.a)({},e),{},{loading:!1,users:[],error:t.payload});case E:var a=Object(ie.a)(e.users).indexOf(t.payload);return Object(i.a)(Object(i.a)({},e),{},{error:"",users:[].concat(Object(ie.a)(e.users.slice(0,a)),Object(ie.a)(e.users.slice(a+1)))});case S:var s=t.user.id-1;return Object(i.a)(Object(i.a)({},e),{},{error:t.error,users:[].concat(Object(ie.a)(e.users.slice(0,s)),[t.user],Object(ie.a)(e.users.slice(s)))});case U:return Object(i.a)(Object(i.a)({},e),{},{loadSave:!0});case F:return Object(i.a)(Object(i.a)({},e),{},{users:[].concat(Object(ie.a)(e.users),[Object(i.a)(Object(i.a)({},t.payload),{},{id:e.users.length+1})]),loadSave:!1});case D:return Object(i.a)(Object(i.a)({},e),{},{loadSave:!1,errorSave:t.payload});case R:return Object(i.a)(Object(i.a)({},e),{},{loadEdit:!0});case C:var r=Object(ie.a)(e.users).find((function(e){return e.id===t.payload.id})),n=Object(ie.a)(e.users).indexOf(r);return Object(i.a)(Object(i.a)({},e),{},{users:[].concat(Object(ie.a)(e.users.slice(0,n)),[t.payload],Object(ie.a)(e.users.slice(n+1))),loadEdit:!1});case T:return Object(i.a)(Object(i.a)({},e),{},{loadEdit:!1,errorEdit:t.payload});case k:return Object(i.a)(Object(i.a)({},e),{},{loadSave:!0});case L:return Object(i.a)(Object(i.a)({},e),{},{loadSave:!1});case A:return Object(i.a)(Object(i.a)({},e),{},{loadEdit:!0});case I:return Object(i.a)(Object(i.a)({},e),{},{loadEdit:!1});default:return Object(i.a)({},e)}},de=Object(re.createStore)(le,Object(ne.composeWithDevTools)(Object(re.applyMiddleware)(ce.a)));a(255);c.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(p.a,{store:de,children:Object(w.jsx)(ae,{})})}),document.getElementById("root")),se()}},[[256,1,2]]]);
//# sourceMappingURL=main.15548c2a.chunk.js.map